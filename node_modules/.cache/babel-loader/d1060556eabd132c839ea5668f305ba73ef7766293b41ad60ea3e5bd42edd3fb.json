{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\logy6\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\wooil\\\\argument-classifier\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Container, Typography, Card, CardContent, TextField, Button, Box, Alert, CircularProgress, FormControl, InputLabel, Select, MenuItem, Grid } from '@mui/material';\nimport { OpenAI } from 'openai';\nimport AnalysisForm from './components/AnalysisForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst openai = new OpenAI({\n  apiKey: process.env.REACT_APP_OPENAI_API_KEY,\n  dangerouslyAllowBrowser: true\n});\nconst difficultyPrompt = {\n  easy: '한 단락으로 구성된 간단한 주장을 작성해주세요.',\n  medium: '2-3개의 단락으로 구성된 논리적인 주장을 작성해주세요.',\n  hard: '3-5개의 단락으로 구성된 복잡하고 심도 있는 주장을 작성해주세요.'\n};\nconst App = () => {\n  _s();\n  var _evaluation$claimEval, _evaluation$evidenceE, _evaluation$evidenceE2;\n  const [topic, setTopic] = useState('');\n  const [difficulty, setDifficulty] = useState('medium');\n  const [contentType, setContentType] = useState('text');\n  const [visualType, setVisualType] = useState('illustration');\n  const [argument, setArgument] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [step, setStep] = useState(0);\n  const [analysis, setAnalysis] = useState(null);\n  const [evaluation, setEvaluation] = useState(null);\n  const [generatedImage, setGeneratedImage] = useState('');\n  const handleDifficultyChange = event => {\n    setDifficulty(event.target.value);\n  };\n  const handleContentTypeChange = event => {\n    setContentType(event.target.value);\n  };\n  const handleVisualTypeChange = event => {\n    setVisualType(event.target.value);\n  };\n  const generateContent = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      if (contentType === 'text') {\n        await generateArgument();\n      } else {\n        await generateVisualContent();\n      }\n      setStep(1);\n    } catch (err) {\n      console.error('Content generation error:', err);\n      setError('콘텐츠 생성 중 오류가 발생했습니다. 다시 시도해 주세요.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const generateArgument = async () => {\n    const completion = await openai.chat.completions.create({\n      model: 'gpt-4-turbo-preview',\n      messages: [{\n        role: 'system',\n        content: '당신은 주어진 주제에 대해 논리적이고 설득력 있는 주장을 작성하는 전문가입니다.'\n      }, {\n        role: 'user',\n        content: `주제: ${topic}\\n난이도: ${difficulty}\\n${difficultyPrompt[difficulty]}\\n\\n주장을 한국어로 작성해주세요.`\n      }]\n    });\n    setArgument(completion.choices[0].message.content || '');\n  };\n  const generateVisualContent = async () => {\n    try {\n      let prompt = '';\n      if (contentType === 'image') {\n        var _image$data$;\n        if (visualType === 'statistics') {\n          prompt = `다음 주제에 대한 통계 그래프를 생성해주세요: ${topic}. \n          그래프는 다음 요구사항을 충족해야 합니다:\n          1. 데이터를 명확하게 표현하는 적절한 그래프 유형 선택\n          2. 한글로 된 제목, 축 레이블, 범례 포함\n          3. 데이터 포인트에 대한 명확한 레이블링\n          4. 시각적으로 구분이 쉬운 색상 사용\n          5. 필요한 경우 추세선이나 주석 포함`;\n        } else {\n          prompt = `다음 주제에 대한 시각적 이미지를 생성해주세요: ${topic}. 이미지에는 한글 텍스트가 포함되어야 하며, 텍스트는 명확하고 읽기 쉬워야 합니다.`;\n        }\n        const image = await openai.images.generate({\n          model: 'dall-e-3',\n          prompt: prompt,\n          n: 1,\n          size: '1024x1024',\n          quality: 'hd',\n          style: 'natural'\n        });\n        const imageUrl = (_image$data$ = image.data[0]) === null || _image$data$ === void 0 ? void 0 : _image$data$.url;\n        if (!imageUrl) {\n          throw new Error('이미지 URL을 받지 못했습니다.');\n        }\n        setGeneratedImage(imageUrl);\n        setArgument(imageUrl);\n      }\n    } catch (err) {\n      console.error('Visual content generation error:', err);\n      throw new Error('시각적 콘텐츠 생성 중 오류가 발생했습니다.');\n    }\n  };\n  const evaluateAnalysis = async currentAnalysis => {\n    setLoading(true);\n    setError(null);\n    try {\n      var _completion$choices$, _completion$choices$$;\n      const completion = await openai.chat.completions.create({\n        model: \"gpt-4-turbo-preview\",\n        messages: [{\n          role: \"system\",\n          content: `당신은 논증문 분석 전문가입니다. 다음 기준에 따라 사용자의 분석을 평가해주세요:\n\n1. 주장 평가:\n   - 핵심 주장의 정확성\n   - 주요 키워드의 식별\n   - 누락된 키워드 확인\n\n2. 근거 평가:\n   - 각 근거의 정확성\n   - 키워드 식별의 적절성\n   - 근거의 계층 구조 평가\n   - 누락된 근거나 키워드 확인\n\n3. 전체 구조 평가:\n   - 근거 간 계층적 관계의 적절성\n   - 전체 논증 구조의 완성도\n\n다음 형식으로 응답해주세요:\n{\n  \"claimEvaluation\": {\n    \"feedback\": \"주장에 대한 구체적인 피드백을 작성해주세요\",\n    \"missedKeywords\": [\"누락된 키워드가 있다면 작성해주세요\"]\n  },\n  \"evidenceEvaluation\": {\n    \"feedback\": \"근거에 대한 구체적인 피드백을 작성해주세요\",\n    \"missedKeywords\": [\"누락된 키워드가 있다면 작성해주세요\"],\n    \"missedEvidence\": [\"누락된 근거가 있다면 작성해주세요\"]\n  },\n  \"overallStructure\": {\n    \"feedback\": \"전체 구조에 대한 구체적인 피드백을 작성해주세요\"\n  }\n}`\n        }, {\n          role: \"user\",\n          content: `논증문:\\n${argument}\\n\\n사용자의 분석:\\n주장:\\n${currentAnalysis.claims.join('\\n')}\\n\\n근거:\\n${currentAnalysis.evidence.join('\\n')}\\n\\n근거를 뒷받침하는 내용:\\n${currentAnalysis.structure}`\n        }],\n        temperature: 0.7,\n        max_tokens: 1000\n      });\n      if (!((_completion$choices$ = completion.choices[0]) !== null && _completion$choices$ !== void 0 && (_completion$choices$$ = _completion$choices$.message) !== null && _completion$choices$$ !== void 0 && _completion$choices$$.content)) {\n        throw new Error('평가 결과를 받지 못했습니다.');\n      }\n      try {\n        const evaluationResult = JSON.parse(completion.choices[0].message.content);\n        console.log('평가 결과:', evaluationResult); // 디버깅용 로그\n        setEvaluation(evaluationResult);\n        setStep(1.5);\n      } catch (parseError) {\n        console.error('JSON 파싱 오류:', parseError);\n        throw new Error('평가 결과 형식이 올바르지 않습니다.');\n      }\n    } catch (error) {\n      console.error('분석 평가 오류:', error);\n      setError('평가 중 오류가 발생했습니다. 다시 시도해주세요.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const submitAnalysis = async () => {\n    if (!analysis) {\n      setError('분석 내용을 입력해주세요.');\n      return;\n    }\n    await evaluateAnalysis(analysis);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      align: \"center\",\n      children: \"\\uB17C\\uC99D\\uBB38 \\uBD84\\uC11D \\uC5F0\\uC2B5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this), step === 0 && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"\\uBD84\\uC11D\\uD560 \\uD654\\uC81C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"\\uD654\\uC81C\",\n          value: topic,\n          onChange: e => setTopic(e.target.value),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\uB09C\\uC774\\uB3C4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: difficulty,\n                label: \"\\uB09C\\uC774\\uB3C4\",\n                onChange: handleDifficultyChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"easy\",\n                  children: \"\\uC26C\\uC6C0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"medium\",\n                  children: \"\\uBCF4\\uD1B5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"hard\",\n                  children: \"\\uC5B4\\uB824\\uC6C0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\uCF58\\uD150\\uCE20 \\uC720\\uD615\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: contentType,\n                label: \"\\uCF58\\uD150\\uCE20 \\uC720\\uD615\",\n                onChange: handleContentTypeChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"text\",\n                  children: \"\\uD14D\\uC2A4\\uD2B8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"image\",\n                  children: \"\\uC774\\uBBF8\\uC9C0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this), contentType === 'image' && /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"\\uC774\\uBBF8\\uC9C0 \\uC720\\uD615\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: visualType,\n            label: \"\\uC774\\uBBF8\\uC9C0 \\uC720\\uD615\",\n            onChange: handleVisualTypeChange,\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"illustration\",\n              children: \"\\uC77C\\uB7EC\\uC2A4\\uD2B8\\uB808\\uC774\\uC158\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"infographic\",\n              children: \"\\uC778\\uD3EC\\uADF8\\uB798\\uD53D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"statistics\",\n              children: \"\\uD1B5\\uACC4 \\uADF8\\uB798\\uD504\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: generateContent,\n          disabled: !topic || loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 26\n          }, this) : '생성하기'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }, this), step >= 1 && contentType === 'text' && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(AnalysisForm, {\n          argument: argument,\n          analysis: analysis,\n          setAnalysis: setAnalysis,\n          loading: loading,\n          onSubmit: submitAnalysis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this), evaluation && step >= 1.5 && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"\\uD3C9\\uAC00 \\uACB0\\uACFC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"\\uC8FC\\uC7A5 \\uD3C9\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            sx: {\n              mb: 1\n            },\n            children: evaluation.claimEvaluation.feedback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), ((_evaluation$claimEval = evaluation.claimEvaluation.missedKeywords) === null || _evaluation$claimEval === void 0 ? void 0 : _evaluation$claimEval.length) > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error.main\",\n            children: [\"\\uB204\\uB77D\\uB41C \\uD0A4\\uC6CC\\uB4DC: \", evaluation.claimEvaluation.missedKeywords.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"\\uADFC\\uAC70 \\uD3C9\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            sx: {\n              mb: 1\n            },\n            children: evaluation.evidenceEvaluation.feedback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), ((_evaluation$evidenceE = evaluation.evidenceEvaluation.missedKeywords) === null || _evaluation$evidenceE === void 0 ? void 0 : _evaluation$evidenceE.length) > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error.main\",\n            sx: {\n              mb: 1\n            },\n            children: [\"\\uB204\\uB77D\\uB41C \\uD0A4\\uC6CC\\uB4DC: \", evaluation.evidenceEvaluation.missedKeywords.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this), ((_evaluation$evidenceE2 = evaluation.evidenceEvaluation.missedEvidence) === null || _evaluation$evidenceE2 === void 0 ? void 0 : _evaluation$evidenceE2.length) > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error.main\",\n            children: [\"\\uB204\\uB77D\\uB41C \\uADFC\\uAC70: \", evaluation.evidenceEvaluation.missedEvidence.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"\\uC804\\uCCB4 \\uAD6C\\uC870 \\uD3C9\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: evaluation.overallStructure.feedback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => setStep(1),\n            sx: {\n              mr: 2\n            },\n            children: \"\\uC218\\uC815\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: () => {\n              setStep(0);\n              setAnalysis(null);\n              setEvaluation(null);\n            },\n            children: \"\\uC0C8\\uB85C\\uC6B4 \\uBD84\\uC11D \\uC2DC\\uC791\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"x5uZsqbBiS7DVaW4C4rW8oaSM6w=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Container","Typography","Card","CardContent","TextField","Button","Box","Alert","CircularProgress","FormControl","InputLabel","Select","MenuItem","Grid","OpenAI","AnalysisForm","jsxDEV","_jsxDEV","openai","apiKey","process","env","REACT_APP_OPENAI_API_KEY","dangerouslyAllowBrowser","difficultyPrompt","easy","medium","hard","App","_s","_evaluation$claimEval","_evaluation$evidenceE","_evaluation$evidenceE2","topic","setTopic","difficulty","setDifficulty","contentType","setContentType","visualType","setVisualType","argument","setArgument","loading","setLoading","error","setError","step","setStep","analysis","setAnalysis","evaluation","setEvaluation","generatedImage","setGeneratedImage","handleDifficultyChange","event","target","value","handleContentTypeChange","handleVisualTypeChange","generateContent","generateArgument","generateVisualContent","err","console","completion","chat","completions","create","model","messages","role","content","choices","message","prompt","_image$data$","image","images","generate","n","size","quality","style","imageUrl","data","url","Error","evaluateAnalysis","currentAnalysis","_completion$choices$","_completion$choices$$","claims","join","evidence","structure","temperature","max_tokens","evaluationResult","JSON","parse","log","parseError","submitAnalysis","maxWidth","sx","mt","children","variant","component","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","fullWidth","label","onChange","e","container","spacing","item","xs","onClick","disabled","onSubmit","claimEvaluation","feedback","missedKeywords","length","color","evidenceEvaluation","missedEvidence","overallStructure","mr","_c","$RefreshReg$"],"sources":["C:/Users/logy6/OneDrive/바탕 화면/wooil/argument-classifier/src/App.tsx"],"sourcesContent":["import React, { useState, ChangeEvent } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  Alert,\r\n  CircularProgress,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  SelectChangeEvent,\r\n  Grid\r\n} from '@mui/material';\r\nimport { OpenAI } from 'openai';\r\nimport AnalysisForm from './components/AnalysisForm';\r\nimport { Analysis, Difficulty, ContentType, VisualType, Evaluation } from './types';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    process: {\r\n      env: {\r\n        REACT_APP_OPENAI_API_KEY: string;\r\n      };\r\n    };\r\n  }\r\n}\r\n\r\nconst openai = new OpenAI({\r\n  apiKey: process.env.REACT_APP_OPENAI_API_KEY,\r\n  dangerouslyAllowBrowser: true\r\n});\r\n\r\nconst difficultyPrompt: Record<Difficulty, string> = {\r\n  easy: '한 단락으로 구성된 간단한 주장을 작성해주세요.',\r\n  medium: '2-3개의 단락으로 구성된 논리적인 주장을 작성해주세요.',\r\n  hard: '3-5개의 단락으로 구성된 복잡하고 심도 있는 주장을 작성해주세요.'\r\n};\r\n\r\nconst App: React.FC = () => {\r\n  const [topic, setTopic] = useState<string>('');\r\n  const [difficulty, setDifficulty] = useState<Difficulty>('medium');\r\n  const [contentType, setContentType] = useState<ContentType>('text');\r\n  const [visualType, setVisualType] = useState<VisualType>('illustration');\r\n  const [argument, setArgument] = useState<string>('');\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [step, setStep] = useState<number>(0);\r\n  const [analysis, setAnalysis] = useState<Analysis | null>(null);\r\n  const [evaluation, setEvaluation] = useState<Evaluation | null>(null);\r\n  const [generatedImage, setGeneratedImage] = useState<string>('');\r\n\r\n  const handleDifficultyChange = (event: SelectChangeEvent<Difficulty>) => {\r\n    setDifficulty(event.target.value as Difficulty);\r\n  };\r\n\r\n  const handleContentTypeChange = (event: SelectChangeEvent<ContentType>) => {\r\n    setContentType(event.target.value as ContentType);\r\n  };\r\n\r\n  const handleVisualTypeChange = (event: SelectChangeEvent<VisualType>) => {\r\n    setVisualType(event.target.value as VisualType);\r\n  };\r\n\r\n  const generateContent = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      if (contentType === 'text') {\r\n        await generateArgument();\r\n      } else {\r\n        await generateVisualContent();\r\n      }\r\n      setStep(1);\r\n    } catch (err) {\r\n      console.error('Content generation error:', err);\r\n      setError('콘텐츠 생성 중 오류가 발생했습니다. 다시 시도해 주세요.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateArgument = async () => {\r\n    const completion = await openai.chat.completions.create({\r\n      model: 'gpt-4-turbo-preview',\r\n      messages: [\r\n        {\r\n          role: 'system',\r\n          content: '당신은 주어진 주제에 대해 논리적이고 설득력 있는 주장을 작성하는 전문가입니다.',\r\n        },\r\n        {\r\n          role: 'user',\r\n          content: `주제: ${topic}\\n난이도: ${difficulty}\\n${difficultyPrompt[difficulty]}\\n\\n주장을 한국어로 작성해주세요.`,\r\n        },\r\n      ],\r\n    });\r\n\r\n    setArgument(completion.choices[0].message.content || '');\r\n  };\r\n\r\n  const generateVisualContent = async () => {\r\n    try {\r\n      let prompt = '';\r\n      if (contentType === 'image') {\r\n        if (visualType === 'statistics') {\r\n          prompt = `다음 주제에 대한 통계 그래프를 생성해주세요: ${topic}. \r\n          그래프는 다음 요구사항을 충족해야 합니다:\r\n          1. 데이터를 명확하게 표현하는 적절한 그래프 유형 선택\r\n          2. 한글로 된 제목, 축 레이블, 범례 포함\r\n          3. 데이터 포인트에 대한 명확한 레이블링\r\n          4. 시각적으로 구분이 쉬운 색상 사용\r\n          5. 필요한 경우 추세선이나 주석 포함`;\r\n        } else {\r\n          prompt = `다음 주제에 대한 시각적 이미지를 생성해주세요: ${topic}. 이미지에는 한글 텍스트가 포함되어야 하며, 텍스트는 명확하고 읽기 쉬워야 합니다.`;\r\n        }\r\n\r\n        const image = await openai.images.generate({\r\n          model: 'dall-e-3',\r\n          prompt: prompt,\r\n          n: 1,\r\n          size: '1024x1024',\r\n          quality: 'hd',\r\n          style: 'natural',\r\n        });\r\n\r\n        const imageUrl = image.data[0]?.url;\r\n        if (!imageUrl) {\r\n          throw new Error('이미지 URL을 받지 못했습니다.');\r\n        }\r\n\r\n        setGeneratedImage(imageUrl);\r\n        setArgument(imageUrl);\r\n      }\r\n    } catch (err) {\r\n      console.error('Visual content generation error:', err);\r\n      throw new Error('시각적 콘텐츠 생성 중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  const evaluateAnalysis = async (currentAnalysis: Analysis) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const completion = await openai.chat.completions.create({\r\n        model: \"gpt-4-turbo-preview\",\r\n        messages: [\r\n          {\r\n            role: \"system\",\r\n            content: `당신은 논증문 분석 전문가입니다. 다음 기준에 따라 사용자의 분석을 평가해주세요:\r\n\r\n1. 주장 평가:\r\n   - 핵심 주장의 정확성\r\n   - 주요 키워드의 식별\r\n   - 누락된 키워드 확인\r\n\r\n2. 근거 평가:\r\n   - 각 근거의 정확성\r\n   - 키워드 식별의 적절성\r\n   - 근거의 계층 구조 평가\r\n   - 누락된 근거나 키워드 확인\r\n\r\n3. 전체 구조 평가:\r\n   - 근거 간 계층적 관계의 적절성\r\n   - 전체 논증 구조의 완성도\r\n\r\n다음 형식으로 응답해주세요:\r\n{\r\n  \"claimEvaluation\": {\r\n    \"feedback\": \"주장에 대한 구체적인 피드백을 작성해주세요\",\r\n    \"missedKeywords\": [\"누락된 키워드가 있다면 작성해주세요\"]\r\n  },\r\n  \"evidenceEvaluation\": {\r\n    \"feedback\": \"근거에 대한 구체적인 피드백을 작성해주세요\",\r\n    \"missedKeywords\": [\"누락된 키워드가 있다면 작성해주세요\"],\r\n    \"missedEvidence\": [\"누락된 근거가 있다면 작성해주세요\"]\r\n  },\r\n  \"overallStructure\": {\r\n    \"feedback\": \"전체 구조에 대한 구체적인 피드백을 작성해주세요\"\r\n  }\r\n}`\r\n          },\r\n          {\r\n            role: \"user\",\r\n            content: `논증문:\\n${argument}\\n\\n사용자의 분석:\\n주장:\\n${currentAnalysis.claims.join('\\n')}\\n\\n근거:\\n${currentAnalysis.evidence.join('\\n')}\\n\\n근거를 뒷받침하는 내용:\\n${currentAnalysis.structure}`\r\n          }\r\n        ],\r\n        temperature: 0.7,\r\n        max_tokens: 1000\r\n      });\r\n\r\n      if (!completion.choices[0]?.message?.content) {\r\n        throw new Error('평가 결과를 받지 못했습니다.');\r\n      }\r\n\r\n      try {\r\n        const evaluationResult = JSON.parse(completion.choices[0].message.content);\r\n        console.log('평가 결과:', evaluationResult); // 디버깅용 로그\r\n        setEvaluation(evaluationResult);\r\n        setStep(1.5);\r\n      } catch (parseError) {\r\n        console.error('JSON 파싱 오류:', parseError);\r\n        throw new Error('평가 결과 형식이 올바르지 않습니다.');\r\n      }\r\n    } catch (error) {\r\n      console.error('분석 평가 오류:', error);\r\n      setError('평가 중 오류가 발생했습니다. 다시 시도해주세요.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const submitAnalysis = async () => {\r\n    if (!analysis) {\r\n      setError('분석 내용을 입력해주세요.');\r\n      return;\r\n    }\r\n    await evaluateAnalysis(analysis);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ mt: 4 }}>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\r\n        논증문 분석 연습\r\n      </Typography>\r\n      \r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {step === 0 && (\r\n        <Card sx={{ mt: 4 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              분석할 화제를 입력하세요\r\n            </Typography>\r\n            <TextField\r\n              fullWidth\r\n              label=\"화제\"\r\n              value={topic}\r\n              onChange={(e: ChangeEvent<HTMLInputElement>) => setTopic(e.target.value)}\r\n              sx={{ mb: 2 }}\r\n            />\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={6}>\r\n                <FormControl fullWidth sx={{ mb: 2 }}>\r\n                  <InputLabel>난이도</InputLabel>\r\n                  <Select\r\n                    value={difficulty}\r\n                    label=\"난이도\"\r\n                    onChange={handleDifficultyChange}\r\n                  >\r\n                    <MenuItem value=\"easy\">쉬움</MenuItem>\r\n                    <MenuItem value=\"medium\">보통</MenuItem>\r\n                    <MenuItem value=\"hard\">어려움</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <FormControl fullWidth sx={{ mb: 2 }}>\r\n                  <InputLabel>콘텐츠 유형</InputLabel>\r\n                  <Select\r\n                    value={contentType}\r\n                    label=\"콘텐츠 유형\"\r\n                    onChange={handleContentTypeChange}\r\n                  >\r\n                    <MenuItem value=\"text\">텍스트</MenuItem>\r\n                    <MenuItem value=\"image\">이미지</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {contentType === 'image' && (\r\n              <FormControl fullWidth sx={{ mb: 2 }}>\r\n                <InputLabel>이미지 유형</InputLabel>\r\n                <Select\r\n                  value={visualType}\r\n                  label=\"이미지 유형\"\r\n                  onChange={handleVisualTypeChange}\r\n                >\r\n                  <MenuItem value=\"illustration\">일러스트레이션</MenuItem>\r\n                  <MenuItem value=\"infographic\">인포그래픽</MenuItem>\r\n                  <MenuItem value=\"statistics\">통계 그래프</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            )}\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={generateContent}\r\n              disabled={!topic || loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : '생성하기'}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {step >= 1 && contentType === 'text' && (\r\n        <Card sx={{ mt: 4 }}>\r\n          <CardContent>\r\n            <AnalysisForm\r\n              argument={argument}\r\n              analysis={analysis}\r\n              setAnalysis={setAnalysis}\r\n              loading={loading}\r\n              onSubmit={submitAnalysis}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {evaluation && step >= 1.5 && (\r\n        <Card sx={{ mt: 4 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              평가 결과\r\n            </Typography>\r\n            \r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                주장 평가\r\n              </Typography>\r\n              <Typography variant=\"body1\" sx={{ mb: 1 }}>\r\n                {evaluation.claimEvaluation.feedback}\r\n              </Typography>\r\n              {evaluation.claimEvaluation.missedKeywords?.length > 0 && (\r\n                <Typography color=\"error.main\">\r\n                  누락된 키워드: {evaluation.claimEvaluation.missedKeywords.join(', ')}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                근거 평가\r\n              </Typography>\r\n              <Typography variant=\"body1\" sx={{ mb: 1 }}>\r\n                {evaluation.evidenceEvaluation.feedback}\r\n              </Typography>\r\n              {evaluation.evidenceEvaluation.missedKeywords?.length > 0 && (\r\n                <Typography color=\"error.main\" sx={{ mb: 1 }}>\r\n                  누락된 키워드: {evaluation.evidenceEvaluation.missedKeywords.join(', ')}\r\n                </Typography>\r\n              )}\r\n              {evaluation.evidenceEvaluation.missedEvidence?.length > 0 && (\r\n                <Typography color=\"error.main\">\r\n                  누락된 근거: {evaluation.evidenceEvaluation.missedEvidence.join(', ')}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                전체 구조 평가\r\n              </Typography>\r\n              <Typography variant=\"body1\">\r\n                {evaluation.overallStructure.feedback}\r\n              </Typography>\r\n            </Box>\r\n\r\n            <Box sx={{ mt: 3 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={() => setStep(1)}\r\n                sx={{ mr: 2 }}\r\n              >\r\n                수정하기\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setStep(0);\r\n                  setAnalysis(null);\r\n                  setEvaluation(null);\r\n                }}\r\n              >\r\n                새로운 분석 시작\r\n              </Button>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}