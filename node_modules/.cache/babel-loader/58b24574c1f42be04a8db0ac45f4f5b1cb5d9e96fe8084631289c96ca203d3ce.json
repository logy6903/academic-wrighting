{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\logy6\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\wooil\\\\argument-classifier\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Container, Typography, Card, CardContent, TextField, Button, Box, Alert, CircularProgress, FormControl, InputLabel, Select, MenuItem, Grid } from '@mui/material';\nimport { OpenAI } from 'openai';\nimport AnalysisForm from './components/AnalysisForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst openai = new OpenAI({\n  apiKey: process.env.REACT_APP_OPENAI_API_KEY,\n  dangerouslyAllowBrowser: true\n});\nconst difficultyPrompt = {\n  easy: '한 단락으로 구성된 간단한 주장을 작성해주세요.',\n  medium: '2-3개의 단락으로 구성된 논리적인 주장을 작성해주세요.',\n  hard: '3-5개의 단락으로 구성된 복잡하고 심도 있는 주장을 작성해주세요.'\n};\nconst App = () => {\n  _s();\n  const [topic, setTopic] = useState('');\n  const [difficulty, setDifficulty] = useState('medium');\n  const [contentType, setContentType] = useState('text');\n  const [visualType, setVisualType] = useState('illustration');\n  const [argument, setArgument] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [step, setStep] = useState(0);\n  const [analysis, setAnalysis] = useState(null);\n  const [evaluation, setEvaluation] = useState(null);\n  const [generatedImage, setGeneratedImage] = useState('');\n  const handleDifficultyChange = event => {\n    setDifficulty(event.target.value);\n  };\n  const handleContentTypeChange = event => {\n    setContentType(event.target.value);\n  };\n  const handleVisualTypeChange = event => {\n    setVisualType(event.target.value);\n  };\n  const generateContent = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      if (contentType === 'text') {\n        await generateArgument();\n      } else {\n        await generateVisualContent();\n      }\n      setStep(1);\n    } catch (err) {\n      console.error('Content generation error:', err);\n      setError('콘텐츠 생성 중 오류가 발생했습니다. 다시 시도해 주세요.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const generateArgument = async () => {\n    const completion = await openai.chat.completions.create({\n      model: 'gpt-4-turbo-preview',\n      messages: [{\n        role: 'system',\n        content: '당신은 주어진 주제에 대해 논리적이고 설득력 있는 주장을 작성하는 전문가입니다.'\n      }, {\n        role: 'user',\n        content: `주제: ${topic}\\n난이도: ${difficulty}\\n${difficultyPrompt[difficulty]}\\n\\n주장을 한국어로 작성해주세요.`\n      }]\n    });\n    setArgument(completion.choices[0].message.content || '');\n  };\n  const generateVisualContent = async () => {\n    try {\n      let prompt = '';\n      if (contentType === 'image') {\n        var _image$data$;\n        if (visualType === 'statistics') {\n          prompt = `다음 주제에 대한 통계 그래프를 생성해주세요: ${topic}. \n          그래프는 다음 요구사항을 충족해야 합니다:\n          1. 데이터를 명확하게 표현하는 적절한 그래프 유형 선택\n          2. 한글로 된 제목, 축 레이블, 범례 포함\n          3. 데이터 포인트에 대한 명확한 레이블링\n          4. 시각적으로 구분이 쉬운 색상 사용\n          5. 필요한 경우 추세선이나 주석 포함`;\n        } else {\n          prompt = `다음 주제에 대한 시각적 이미지를 생성해주세요: ${topic}. 이미지에는 한글 텍스트가 포함되어야 하며, 텍스트는 명확하고 읽기 쉬워야 합니다.`;\n        }\n        const image = await openai.images.generate({\n          model: 'dall-e-3',\n          prompt: prompt,\n          n: 1,\n          size: '1024x1024',\n          quality: 'hd',\n          style: 'natural'\n        });\n        const imageUrl = (_image$data$ = image.data[0]) === null || _image$data$ === void 0 ? void 0 : _image$data$.url;\n        if (!imageUrl) {\n          throw new Error('이미지 URL을 받지 못했습니다.');\n        }\n        setGeneratedImage(imageUrl);\n        setArgument(imageUrl);\n      }\n    } catch (err) {\n      console.error('Visual content generation error:', err);\n      throw new Error('시각적 콘텐츠 생성 중 오류가 발생했습니다.');\n    }\n  };\n  const evaluateAnalysis = async currentAnalysis => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`\n        },\n        body: JSON.stringify({\n          model: \"gpt-4-turbo\",\n          messages: [{\n            role: \"system\",\n            content: `당신은 논증문 분석 전문가입니다. 다음 기준에 따라 사용자의 분석을 평가해주세요:\n\n1. 주장 평가:\n   - 핵심 주장의 정확성\n   - 주요 키워드의 식별\n   - 누락된 키워드 확인\n\n2. 근거 평가:\n   - 각 근거의 정확성\n   - 키워드 식별의 적절성\n   - 근거의 계층 구조 평가\n   - 누락된 근거나 키워드 확인\n\n3. 전체 구조 평가:\n   - 근거 간 계층적 관계의 적절성\n   - 전체 논증 구조의 완성도\n\n평가 결과는 다음 JSON 형식으로 제공해주세요:\n{\n  \"claimEvaluation\": {\n    \"isAccurate\": boolean,\n    \"feedback\": string,\n    \"identifiedKeywords\": boolean,\n    \"missedKeywords\": string[]\n  },\n  \"evidenceEvaluation\": {\n    \"isAccurate\": boolean,\n    \"feedback\": string,\n    \"identifiedKeywords\": boolean,\n    \"hasProperStructure\": boolean,\n    \"missedKeywords\": string[],\n    \"missedEvidence\": string[]\n  },\n  \"overallStructure\": {\n    \"isHierarchical\": boolean,\n    \"feedback\": string\n  }\n}`\n          }, {\n            role: \"user\",\n            content: `논증문:\\n${argument}\\n\\n사용자의 분석:\\n${JSON.stringify(currentAnalysis, null, 2)}`\n          }]\n        })\n      });\n      if (!response.ok) {\n        throw new Error('평가 생성 중 오류가 발생했습니다.');\n      }\n      const data = await response.json();\n      const evaluationResult = JSON.parse(data.choices[0].message.content);\n      setEvaluation(evaluationResult);\n      if (evaluationResult.claimEvaluation.needsRevision || evaluationResult.evidenceEvaluation.hasProperStructure === false) {\n        setStep(1.5);\n      } else {\n        setStep(2);\n      }\n    } catch (error) {\n      console.error('분석 평가 오류:', error);\n      setError(`오류가 발생했습니다: ${error instanceof Error ? error.message : '알 수 없는 오류'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const submitAnalysis = async () => {\n    if (!analysis) {\n      setError('분석 내용을 입력해주세요.');\n      return;\n    }\n    await evaluateAnalysis(analysis);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      align: \"center\",\n      children: \"\\uB17C\\uC99D\\uBB38 \\uBD84\\uC11D \\uC5F0\\uC2B5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }, this), step === 0 && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"\\uBD84\\uC11D\\uD560 \\uD654\\uC81C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"\\uD654\\uC81C\",\n          value: topic,\n          onChange: e => setTopic(e.target.value),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\uB09C\\uC774\\uB3C4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: difficulty,\n                label: \"\\uB09C\\uC774\\uB3C4\",\n                onChange: handleDifficultyChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"easy\",\n                  children: \"\\uC26C\\uC6C0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"medium\",\n                  children: \"\\uBCF4\\uD1B5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"hard\",\n                  children: \"\\uC5B4\\uB824\\uC6C0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"\\uCF58\\uD150\\uCE20 \\uC720\\uD615\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: contentType,\n                label: \"\\uCF58\\uD150\\uCE20 \\uC720\\uD615\",\n                onChange: handleContentTypeChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"text\",\n                  children: \"\\uD14D\\uC2A4\\uD2B8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"image\",\n                  children: \"\\uC774\\uBBF8\\uC9C0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), contentType === 'image' && /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"\\uC774\\uBBF8\\uC9C0 \\uC720\\uD615\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: visualType,\n            label: \"\\uC774\\uBBF8\\uC9C0 \\uC720\\uD615\",\n            onChange: handleVisualTypeChange,\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"illustration\",\n              children: \"\\uC77C\\uB7EC\\uC2A4\\uD2B8\\uB808\\uC774\\uC158\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"infographic\",\n              children: \"\\uC778\\uD3EC\\uADF8\\uB798\\uD53D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"statistics\",\n              children: \"\\uD1B5\\uACC4 \\uADF8\\uB798\\uD504\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: generateContent,\n          disabled: !topic || loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 26\n          }, this) : '생성하기'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), step >= 1 && contentType === 'text' && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(AnalysisForm, {\n          argument: argument,\n          analysis: analysis,\n          setAnalysis: setAnalysis,\n          loading: loading,\n          onSubmit: submitAnalysis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }, this), evaluation && step >= 1.5 && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"\\uD3C9\\uAC00 \\uACB0\\uACFC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"\\uC8FC\\uC7A5 \\uD3C9\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: evaluation.claimEvaluation.feedback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), evaluation.claimEvaluation.missedKeywords && evaluation.claimEvaluation.missedKeywords.length > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            children: [\"\\uB204\\uB77D\\uB41C \\uD0A4\\uC6CC\\uB4DC: \", evaluation.claimEvaluation.missedKeywords.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"\\uADFC\\uAC70 \\uD3C9\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: evaluation.evidenceEvaluation.feedback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this), evaluation.evidenceEvaluation.missedKeywords && evaluation.evidenceEvaluation.missedKeywords.length > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            children: [\"\\uB204\\uB77D\\uB41C \\uD0A4\\uC6CC\\uB4DC: \", evaluation.evidenceEvaluation.missedKeywords.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this), evaluation.evidenceEvaluation.missedEvidence && evaluation.evidenceEvaluation.missedEvidence.length > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            children: [\"\\uB204\\uB77D\\uB41C \\uADFC\\uAC70: \", evaluation.evidenceEvaluation.missedEvidence.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"\\uC804\\uCCB4 \\uAD6C\\uC870 \\uD3C9\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: evaluation.overallStructure.feedback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => setStep(1),\n          sx: {\n            mr: 2\n          },\n          children: \"\\uC218\\uC815\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"x5uZsqbBiS7DVaW4C4rW8oaSM6w=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Container","Typography","Card","CardContent","TextField","Button","Box","Alert","CircularProgress","FormControl","InputLabel","Select","MenuItem","Grid","OpenAI","AnalysisForm","jsxDEV","_jsxDEV","openai","apiKey","process","env","REACT_APP_OPENAI_API_KEY","dangerouslyAllowBrowser","difficultyPrompt","easy","medium","hard","App","_s","topic","setTopic","difficulty","setDifficulty","contentType","setContentType","visualType","setVisualType","argument","setArgument","loading","setLoading","error","setError","step","setStep","analysis","setAnalysis","evaluation","setEvaluation","generatedImage","setGeneratedImage","handleDifficultyChange","event","target","value","handleContentTypeChange","handleVisualTypeChange","generateContent","generateArgument","generateVisualContent","err","console","completion","chat","completions","create","model","messages","role","content","choices","message","prompt","_image$data$","image","images","generate","n","size","quality","style","imageUrl","data","url","Error","evaluateAnalysis","currentAnalysis","response","fetch","method","headers","body","JSON","stringify","ok","json","evaluationResult","parse","claimEvaluation","needsRevision","evidenceEvaluation","hasProperStructure","submitAnalysis","maxWidth","sx","mt","children","variant","component","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","fullWidth","label","onChange","e","container","spacing","item","xs","onClick","disabled","onSubmit","feedback","missedKeywords","length","color","join","missedEvidence","overallStructure","mr","_c","$RefreshReg$"],"sources":["C:/Users/logy6/OneDrive/바탕 화면/wooil/argument-classifier/src/App.tsx"],"sourcesContent":["import React, { useState, ChangeEvent } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  Alert,\r\n  CircularProgress,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  SelectChangeEvent,\r\n  Grid\r\n} from '@mui/material';\r\nimport { OpenAI } from 'openai';\r\nimport AnalysisForm from './components/AnalysisForm';\r\nimport { Analysis, Difficulty, ContentType, VisualType, Evaluation } from './types';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    process: {\r\n      env: {\r\n        REACT_APP_OPENAI_API_KEY: string;\r\n      };\r\n    };\r\n  }\r\n}\r\n\r\nconst openai = new OpenAI({\r\n  apiKey: process.env.REACT_APP_OPENAI_API_KEY,\r\n  dangerouslyAllowBrowser: true\r\n});\r\n\r\nconst difficultyPrompt: Record<Difficulty, string> = {\r\n  easy: '한 단락으로 구성된 간단한 주장을 작성해주세요.',\r\n  medium: '2-3개의 단락으로 구성된 논리적인 주장을 작성해주세요.',\r\n  hard: '3-5개의 단락으로 구성된 복잡하고 심도 있는 주장을 작성해주세요.'\r\n};\r\n\r\nconst App: React.FC = () => {\r\n  const [topic, setTopic] = useState<string>('');\r\n  const [difficulty, setDifficulty] = useState<Difficulty>('medium');\r\n  const [contentType, setContentType] = useState<ContentType>('text');\r\n  const [visualType, setVisualType] = useState<VisualType>('illustration');\r\n  const [argument, setArgument] = useState<string>('');\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [step, setStep] = useState<number>(0);\r\n  const [analysis, setAnalysis] = useState<Analysis | null>(null);\r\n  const [evaluation, setEvaluation] = useState<Evaluation | null>(null);\r\n  const [generatedImage, setGeneratedImage] = useState<string>('');\r\n\r\n  const handleDifficultyChange = (event: SelectChangeEvent<Difficulty>) => {\r\n    setDifficulty(event.target.value as Difficulty);\r\n  };\r\n\r\n  const handleContentTypeChange = (event: SelectChangeEvent<ContentType>) => {\r\n    setContentType(event.target.value as ContentType);\r\n  };\r\n\r\n  const handleVisualTypeChange = (event: SelectChangeEvent<VisualType>) => {\r\n    setVisualType(event.target.value as VisualType);\r\n  };\r\n\r\n  const generateContent = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      if (contentType === 'text') {\r\n        await generateArgument();\r\n      } else {\r\n        await generateVisualContent();\r\n      }\r\n      setStep(1);\r\n    } catch (err) {\r\n      console.error('Content generation error:', err);\r\n      setError('콘텐츠 생성 중 오류가 발생했습니다. 다시 시도해 주세요.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateArgument = async () => {\r\n    const completion = await openai.chat.completions.create({\r\n      model: 'gpt-4-turbo-preview',\r\n      messages: [\r\n        {\r\n          role: 'system',\r\n          content: '당신은 주어진 주제에 대해 논리적이고 설득력 있는 주장을 작성하는 전문가입니다.',\r\n        },\r\n        {\r\n          role: 'user',\r\n          content: `주제: ${topic}\\n난이도: ${difficulty}\\n${difficultyPrompt[difficulty]}\\n\\n주장을 한국어로 작성해주세요.`,\r\n        },\r\n      ],\r\n    });\r\n\r\n    setArgument(completion.choices[0].message.content || '');\r\n  };\r\n\r\n  const generateVisualContent = async () => {\r\n    try {\r\n      let prompt = '';\r\n      if (contentType === 'image') {\r\n        if (visualType === 'statistics') {\r\n          prompt = `다음 주제에 대한 통계 그래프를 생성해주세요: ${topic}. \r\n          그래프는 다음 요구사항을 충족해야 합니다:\r\n          1. 데이터를 명확하게 표현하는 적절한 그래프 유형 선택\r\n          2. 한글로 된 제목, 축 레이블, 범례 포함\r\n          3. 데이터 포인트에 대한 명확한 레이블링\r\n          4. 시각적으로 구분이 쉬운 색상 사용\r\n          5. 필요한 경우 추세선이나 주석 포함`;\r\n        } else {\r\n          prompt = `다음 주제에 대한 시각적 이미지를 생성해주세요: ${topic}. 이미지에는 한글 텍스트가 포함되어야 하며, 텍스트는 명확하고 읽기 쉬워야 합니다.`;\r\n        }\r\n\r\n        const image = await openai.images.generate({\r\n          model: 'dall-e-3',\r\n          prompt: prompt,\r\n          n: 1,\r\n          size: '1024x1024',\r\n          quality: 'hd',\r\n          style: 'natural',\r\n        });\r\n\r\n        const imageUrl = image.data[0]?.url;\r\n        if (!imageUrl) {\r\n          throw new Error('이미지 URL을 받지 못했습니다.');\r\n        }\r\n\r\n        setGeneratedImage(imageUrl);\r\n        setArgument(imageUrl);\r\n      }\r\n    } catch (err) {\r\n      console.error('Visual content generation error:', err);\r\n      throw new Error('시각적 콘텐츠 생성 중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  const evaluateAnalysis = async (currentAnalysis: Analysis) => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`\r\n        },\r\n        body: JSON.stringify({\r\n          model: \"gpt-4-turbo\",\r\n          messages: [\r\n            {\r\n              role: \"system\",\r\n              content: `당신은 논증문 분석 전문가입니다. 다음 기준에 따라 사용자의 분석을 평가해주세요:\r\n\r\n1. 주장 평가:\r\n   - 핵심 주장의 정확성\r\n   - 주요 키워드의 식별\r\n   - 누락된 키워드 확인\r\n\r\n2. 근거 평가:\r\n   - 각 근거의 정확성\r\n   - 키워드 식별의 적절성\r\n   - 근거의 계층 구조 평가\r\n   - 누락된 근거나 키워드 확인\r\n\r\n3. 전체 구조 평가:\r\n   - 근거 간 계층적 관계의 적절성\r\n   - 전체 논증 구조의 완성도\r\n\r\n평가 결과는 다음 JSON 형식으로 제공해주세요:\r\n{\r\n  \"claimEvaluation\": {\r\n    \"isAccurate\": boolean,\r\n    \"feedback\": string,\r\n    \"identifiedKeywords\": boolean,\r\n    \"missedKeywords\": string[]\r\n  },\r\n  \"evidenceEvaluation\": {\r\n    \"isAccurate\": boolean,\r\n    \"feedback\": string,\r\n    \"identifiedKeywords\": boolean,\r\n    \"hasProperStructure\": boolean,\r\n    \"missedKeywords\": string[],\r\n    \"missedEvidence\": string[]\r\n  },\r\n  \"overallStructure\": {\r\n    \"isHierarchical\": boolean,\r\n    \"feedback\": string\r\n  }\r\n}`\r\n            },\r\n            {\r\n              role: \"user\",\r\n              content: `논증문:\\n${argument}\\n\\n사용자의 분석:\\n${JSON.stringify(currentAnalysis, null, 2)}`\r\n            }\r\n          ]\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('평가 생성 중 오류가 발생했습니다.');\r\n      }\r\n\r\n      const data = await response.json();\r\n      const evaluationResult = JSON.parse(data.choices[0].message.content);\r\n      setEvaluation(evaluationResult);\r\n\r\n      if (evaluationResult.claimEvaluation.needsRevision || \r\n          evaluationResult.evidenceEvaluation.hasProperStructure === false) {\r\n        setStep(1.5);\r\n      } else {\r\n        setStep(2);\r\n      }\r\n    } catch (error) {\r\n      console.error('분석 평가 오류:', error);\r\n      setError(`오류가 발생했습니다: ${error instanceof Error ? error.message : '알 수 없는 오류'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const submitAnalysis = async () => {\r\n    if (!analysis) {\r\n      setError('분석 내용을 입력해주세요.');\r\n      return;\r\n    }\r\n    await evaluateAnalysis(analysis);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ mt: 4 }}>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\r\n        논증문 분석 연습\r\n      </Typography>\r\n      \r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {step === 0 && (\r\n        <Card sx={{ mt: 4 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              분석할 화제를 입력하세요\r\n            </Typography>\r\n            <TextField\r\n              fullWidth\r\n              label=\"화제\"\r\n              value={topic}\r\n              onChange={(e: ChangeEvent<HTMLInputElement>) => setTopic(e.target.value)}\r\n              sx={{ mb: 2 }}\r\n            />\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={6}>\r\n                <FormControl fullWidth sx={{ mb: 2 }}>\r\n                  <InputLabel>난이도</InputLabel>\r\n                  <Select\r\n                    value={difficulty}\r\n                    label=\"난이도\"\r\n                    onChange={handleDifficultyChange}\r\n                  >\r\n                    <MenuItem value=\"easy\">쉬움</MenuItem>\r\n                    <MenuItem value=\"medium\">보통</MenuItem>\r\n                    <MenuItem value=\"hard\">어려움</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <FormControl fullWidth sx={{ mb: 2 }}>\r\n                  <InputLabel>콘텐츠 유형</InputLabel>\r\n                  <Select\r\n                    value={contentType}\r\n                    label=\"콘텐츠 유형\"\r\n                    onChange={handleContentTypeChange}\r\n                  >\r\n                    <MenuItem value=\"text\">텍스트</MenuItem>\r\n                    <MenuItem value=\"image\">이미지</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {contentType === 'image' && (\r\n              <FormControl fullWidth sx={{ mb: 2 }}>\r\n                <InputLabel>이미지 유형</InputLabel>\r\n                <Select\r\n                  value={visualType}\r\n                  label=\"이미지 유형\"\r\n                  onChange={handleVisualTypeChange}\r\n                >\r\n                  <MenuItem value=\"illustration\">일러스트레이션</MenuItem>\r\n                  <MenuItem value=\"infographic\">인포그래픽</MenuItem>\r\n                  <MenuItem value=\"statistics\">통계 그래프</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            )}\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={generateContent}\r\n              disabled={!topic || loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : '생성하기'}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {step >= 1 && contentType === 'text' && (\r\n        <Card sx={{ mt: 4 }}>\r\n          <CardContent>\r\n            <AnalysisForm\r\n              argument={argument}\r\n              analysis={analysis}\r\n              setAnalysis={setAnalysis}\r\n              loading={loading}\r\n              onSubmit={submitAnalysis}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {evaluation && step >= 1.5 && (\r\n        <Card sx={{ mt: 4 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              평가 결과\r\n            </Typography>\r\n            \r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                주장 평가\r\n              </Typography>\r\n              <Typography>\r\n                {evaluation.claimEvaluation.feedback}\r\n              </Typography>\r\n              {evaluation.claimEvaluation.missedKeywords && \r\n               evaluation.claimEvaluation.missedKeywords.length > 0 && (\r\n                <Typography color=\"error\">\r\n                  누락된 키워드: {evaluation.claimEvaluation.missedKeywords.join(', ')}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                근거 평가\r\n              </Typography>\r\n              <Typography>\r\n                {evaluation.evidenceEvaluation.feedback}\r\n              </Typography>\r\n              {evaluation.evidenceEvaluation.missedKeywords && \r\n               evaluation.evidenceEvaluation.missedKeywords.length > 0 && (\r\n                <Typography color=\"error\">\r\n                  누락된 키워드: {evaluation.evidenceEvaluation.missedKeywords.join(', ')}\r\n                </Typography>\r\n              )}\r\n              {evaluation.evidenceEvaluation.missedEvidence && \r\n               evaluation.evidenceEvaluation.missedEvidence.length > 0 && (\r\n                <Typography color=\"error\">\r\n                  누락된 근거: {evaluation.evidenceEvaluation.missedEvidence.join(', ')}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                전체 구조 평가\r\n              </Typography>\r\n              <Typography>\r\n                {evaluation.overallStructure.feedback}\r\n              </Typography>\r\n            </Box>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => setStep(1)}\r\n              sx={{ mr: 2 }}\r\n            >\r\n              수정하기\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}